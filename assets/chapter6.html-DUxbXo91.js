import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as l,o as n}from"./app-K29S6iA3.js";const e={};function t(h,i){return n(),a("div",null,i[0]||(i[0]=[l(`<h1 id="第6讲-设计优化技术" tabindex="-1"><a class="header-anchor" href="#第6讲-设计优化技术"><span>第6讲：设计优化技术</span></a></h1><h2 id="_1-时序收敛方法论" tabindex="-1"><a class="header-anchor" href="#_1-时序收敛方法论"><span>1. 时序收敛方法论</span></a></h2><h3 id="_1-1-建立-保持时间约束" tabindex="-1"><a class="header-anchor" href="#_1-1-建立-保持时间约束"><span>1.1 建立/保持时间约束</span></a></h3><div class="language-tcl line-numbers-mode" data-highlighter="shiki" data-ext="tcl" data-title="tcl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">create_clock -period </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [get_ports clk]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_input_delay -clock clk </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [get_ports data_in]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_output_delay -clock clk </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [get_ports data_out]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-时钟域交叉分析" tabindex="-1"><a class="header-anchor" href="#_1-2-时钟域交叉分析"><span>1.2 时钟域交叉分析</span></a></h3><ul><li>同步器设计要点</li></ul><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk_dst) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    meta_reg &lt;= data_src;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    stable_reg &lt;= meta_reg;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-关键路径识别" tabindex="-1"><a class="header-anchor" href="#_1-3-关键路径识别"><span>1.3 关键路径识别</span></a></h3><div class="language-tcl line-numbers-mode" data-highlighter="shiki" data-ext="tcl" data-title="tcl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">report_timing -slack_lesser_than </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -nworst </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -setup</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-4-寄存器平衡技术" tabindex="-1"><a class="header-anchor" href="#_1-4-寄存器平衡技术"><span>1.4 寄存器平衡技术</span></a></h3><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 优化前</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk) </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    out &lt;= a + b + c + d;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 优化后（插入流水线寄存器）</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">31</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] stage1;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    stage1 &lt;= a + b;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    out &lt;= stage1 + c + d;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-面积优化技巧" tabindex="-1"><a class="header-anchor" href="#_2-面积优化技巧"><span>2. 面积优化技巧</span></a></h2><h3 id="_2-1-资源共享-乘法器案例" tabindex="-1"><a class="header-anchor" href="#_2-1-资源共享-乘法器案例"><span>2.1 资源共享（乘法器案例）</span></a></h3><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 时分复用乘法器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> shared_mult</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] sel,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] a, b,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    output</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">31</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] y</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">31</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] temp;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        case</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(sel)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">            4&#39;b0001</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: temp &lt;= a[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] * b[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">            4&#39;b0010</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: temp &lt;= a[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] * b[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // ...其他通道</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        endcase</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        y &lt;= temp;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endmodule</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-逻辑折叠技术" tabindex="-1"><a class="header-anchor" href="#_2-2-逻辑折叠技术"><span>2.2 逻辑折叠技术</span></a></h3><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 优化前组合逻辑</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assign</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> result = (a &amp; b) | (c ^ d);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 优化后时序逻辑</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    result &lt;= (a &amp; b) | (c ^ d);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-状态机编码优化" tabindex="-1"><a class="header-anchor" href="#_2-3-状态机编码优化"><span>2.3 状态机编码优化</span></a></h3><table><thead><tr><th>状态</th><th>Binary</th><th>Gray</th><th>One-Hot</th></tr></thead><tbody><tr><td>IDLE</td><td>000</td><td>000</td><td>0000001</td></tr><tr><td>START</td><td>001</td><td>001</td><td>0000010</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr></tbody></table><h2 id="_3-功耗分析与优化" tabindex="-1"><a class="header-anchor" href="#_3-功耗分析与优化"><span>3. 功耗分析与优化</span></a></h2><h3 id="_3-1-功耗分析流程" tabindex="-1"><a class="header-anchor" href="#_3-1-功耗分析流程"><span>3.1 功耗分析流程</span></a></h3><div class="language-tcl line-numbers-mode" data-highlighter="shiki" data-ext="tcl" data-title="tcl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">read_verilog top.v</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">link_design</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">report_power</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-时钟门控技术" tabindex="-1"><a class="header-anchor" href="#_3-2-时钟门控技术"><span>3.2 时钟门控技术</span></a></h3><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 传统设计</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(en) q &lt;= d;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 时钟门控实现</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">wire</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gated_clk = clk &amp; en;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gated_clk)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    q &lt;= d;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-vivado功耗工具" tabindex="-1"><a class="header-anchor" href="#_3-3-vivado功耗工具"><span>3.3 Vivado功耗工具</span></a></h3><ol><li>运行设计实现</li><li>打开Implemented Design</li><li>Report Power</li><li>分析静态/动态功耗分布</li></ol><h2 id="_4-设计约束规范" tabindex="-1"><a class="header-anchor" href="#_4-设计约束规范"><span>4. 设计约束规范</span></a></h2><h3 id="_4-1-sdc基本结构" tabindex="-1"><a class="header-anchor" href="#_4-1-sdc基本结构"><span>4.1 SDC基本结构</span></a></h3><div class="language-tcl line-numbers-mode" data-highlighter="shiki" data-ext="tcl" data-title="tcl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 时钟定义</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">create_clock -name sys_clk -period </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [get_ports clk]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 输入输出约束</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_input_delay -clock sys_clk </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [all_inputs]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_output_delay -clock sys_clk </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [all_outputs]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 跨时钟域约束</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_clock_groups -asynchronous -group {clk1} -group {clk2}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 多周期路径</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_multicycle_path </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -setup -from [get_clocks clkA] -to [get_clocks clkB]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-时序例外约束" tabindex="-1"><a class="header-anchor" href="#_4-2-时序例外约束"><span>4.2 时序例外约束</span></a></h3><table><thead><tr><th>约束类型</th><th>应用场景</th><th>示例</th></tr></thead><tbody><tr><td>set_false_path</td><td>异步时钟域间路径</td><td>set_false_path -from clkA -to clkB</td></tr><tr><td>set_multicycle_path</td><td>慢速数据通路</td><td>set_multicycle_path 2 -hold -from regA</td></tr><tr><td>set_max_delay</td><td>特定路径约束</td><td>set_max_delay 5 -from [get_pins inst1/O]</td></tr></tbody></table><h3 id="_4-3-物理约束" tabindex="-1"><a class="header-anchor" href="#_4-3-物理约束"><span>4.3 物理约束</span></a></h3><div class="language-tcl line-numbers-mode" data-highlighter="shiki" data-ext="tcl" data-title="tcl" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># I/O管脚约束</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_property PACKAGE_PIN AJ1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [get_ports {data[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]}]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">set_property IOSTANDARD LVCMOS3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [get_ports {data[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]}]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 布局约束</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">place_cell inst_A RAMB3</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">_X0Y5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,32)]))}const p=s(e,[["render",t],["__file","chapter6.html.vue"]]),r=JSON.parse('{"path":"/book/chapter6.html","title":"第6讲：设计优化技术","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"1. 时序收敛方法论","slug":"_1-时序收敛方法论","link":"#_1-时序收敛方法论","children":[{"level":3,"title":"1.1 建立/保持时间约束","slug":"_1-1-建立-保持时间约束","link":"#_1-1-建立-保持时间约束","children":[]},{"level":3,"title":"1.2 时钟域交叉分析","slug":"_1-2-时钟域交叉分析","link":"#_1-2-时钟域交叉分析","children":[]},{"level":3,"title":"1.3 关键路径识别","slug":"_1-3-关键路径识别","link":"#_1-3-关键路径识别","children":[]},{"level":3,"title":"1.4 寄存器平衡技术","slug":"_1-4-寄存器平衡技术","link":"#_1-4-寄存器平衡技术","children":[]}]},{"level":2,"title":"2. 面积优化技巧","slug":"_2-面积优化技巧","link":"#_2-面积优化技巧","children":[{"level":3,"title":"2.1 资源共享（乘法器案例）","slug":"_2-1-资源共享-乘法器案例","link":"#_2-1-资源共享-乘法器案例","children":[]},{"level":3,"title":"2.2 逻辑折叠技术","slug":"_2-2-逻辑折叠技术","link":"#_2-2-逻辑折叠技术","children":[]},{"level":3,"title":"2.3 状态机编码优化","slug":"_2-3-状态机编码优化","link":"#_2-3-状态机编码优化","children":[]}]},{"level":2,"title":"3. 功耗分析与优化","slug":"_3-功耗分析与优化","link":"#_3-功耗分析与优化","children":[{"level":3,"title":"3.1 功耗分析流程","slug":"_3-1-功耗分析流程","link":"#_3-1-功耗分析流程","children":[]},{"level":3,"title":"3.2 时钟门控技术","slug":"_3-2-时钟门控技术","link":"#_3-2-时钟门控技术","children":[]},{"level":3,"title":"3.3 Vivado功耗工具","slug":"_3-3-vivado功耗工具","link":"#_3-3-vivado功耗工具","children":[]}]},{"level":2,"title":"4. 设计约束规范","slug":"_4-设计约束规范","link":"#_4-设计约束规范","children":[{"level":3,"title":"4.1 SDC基本结构","slug":"_4-1-sdc基本结构","link":"#_4-1-sdc基本结构","children":[]},{"level":3,"title":"4.2 时序例外约束","slug":"_4-2-时序例外约束","link":"#_4-2-时序例外约束","children":[]},{"level":3,"title":"4.3 物理约束","slug":"_4-3-物理约束","link":"#_4-3-物理约束","children":[]}]}],"git":{"createdTime":1738908357000,"updatedTime":1749345260000,"contributors":[{"name":"Xianzhong Zhou","username":"Xianzhong Zhou","email":"zhouxzh@gdut.edu.cn","commits":2,"url":"https://github.com/Xianzhong Zhou"}]},"readingTime":{"minutes":1.76,"words":528},"filePathRelative":"book/chapter6.md","localizedDate":"2025年2月7日"}');export{p as comp,r as data};
