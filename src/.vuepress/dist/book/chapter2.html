<!doctype html>
<html lang="zh-cn" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.71" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <title>ç¬¬2è®²ï¼šå¼€æºVerilogä»¿çœŸå·¥å…· | ä¸»é¡µ</title><meta name="description" content="vuepress-theme-hope çš„æ–‡æ¡£æ¼”ç¤º">
    <link rel="preload" href="/FPGA-course/assets/style-BYV_1N69.css" as="style"><link rel="stylesheet" href="/FPGA-course/assets/style-BYV_1N69.css">
    <link rel="modulepreload" href="/FPGA-course/assets/app-BoqN8PdU.js"><link rel="modulepreload" href="/FPGA-course/assets/chapter2.html-Bo4w_cWz.js"><link rel="modulepreload" href="/FPGA-course/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/FPGA-course/assets/portfolio.html-Ac9z2rIL.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/index.html-C4x6skDU.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter0.html-OMWODzkL.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter1.html-D_p-tCr1.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter3.html-dff6NfnU.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter4.html-Dg1MhUX1.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter5.html-wKjTBpkw.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter6.html-X_qScd3j.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter7.html-B4thYKqq.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter8.html-A4myIyHK.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/index.html-cEW2JSQZ.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter1.html-BEWRPTRE.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter2.html-T4KOArzw.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter3.html-DDj6b0ry.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter4.html-DyE-k2Ju.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter5.html-TDP-UAlu.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter6.html-D7_N_A03.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/chapter7.html-DuumeEyZ.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/index.html-DbXNXv68.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/404.html-BlKz6cuZ.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/mermaid.esm.min-Bk000cRz.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/FPGA-course/assets/setupDevtools-7MC2TMWH-B28mkgJc.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-navbar external-link-icon has-toc" vp-container><!----><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/" aria-label="è¯¾ç¨‹ç®€ä»‹" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="school" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->è¯¾ç¨‹ç®€ä»‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/portfolio.html" aria-label="ä½œè€…ç®€ä»‹" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="house" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->ä½œè€…ç®€ä»‹<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">FPGAç³»ç»Ÿè®¾è®¡</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/" aria-label="FPGAç³»ç»Ÿè®¾è®¡" iconsizing="both"><!---->FPGAç³»ç»Ÿè®¾è®¡<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter0.html" aria-label="ç¬¬0è®²ï¼šå‰è¨€" iconsizing="both"><!---->ç¬¬0è®²ï¼šå‰è¨€<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter1.html" aria-label="ç¬¬1è®²ï¼šFPGAä¸CPLDæ¶æ„åŸºç¡€" iconsizing="both"><!---->ç¬¬1è®²ï¼šFPGAä¸CPLDæ¶æ„åŸºç¡€<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/FPGA-course/book/chapter2.html" aria-label="ç¬¬2è®²ï¼šå¼€æºVerilogä»¿çœŸå·¥å…·" iconsizing="both"><!---->ç¬¬2è®²ï¼šå¼€æºVerilogä»¿çœŸå·¥å…·<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter3.html" aria-label="ç¬¬3è®²ï¼šå¼€æºVerilogç»¼åˆå·¥å…·" iconsizing="both"><!---->ç¬¬3è®²ï¼šå¼€æºVerilogç»¼åˆå·¥å…·<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter4.html" aria-label="ç¬¬4è®²ï¼šFPGAæ•°å­—æ¥å£è®¾è®¡" iconsizing="both"><!---->ç¬¬4è®²ï¼šFPGAæ•°å­—æ¥å£è®¾è®¡<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter5.html" aria-label="ç¬¬5è®²ï¼šç³»ç»Ÿçº§è®¾è®¡æŠ€æœ¯" iconsizing="both"><!---->ç¬¬5è®²ï¼šç³»ç»Ÿçº§è®¾è®¡æŠ€æœ¯<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter6.html" aria-label="ç¬¬6è®²ï¼šè®¾è®¡ä¼˜åŒ–æŠ€æœ¯" iconsizing="both"><!---->ç¬¬6è®²ï¼šè®¾è®¡ä¼˜åŒ–æŠ€æœ¯<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter7.html" aria-label="ç¬¬7è®²ï¼šFPGAè°ƒè¯•ä¸æµ‹è¯•æŠ€æœ¯æ·±åº¦è§£æ" iconsizing="both"><!---->ç¬¬7è®²ï¼šFPGAè°ƒè¯•ä¸æµ‹è¯•æŠ€æœ¯æ·±åº¦è§£æ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/FPGA-course/book/chapter8.html" aria-label="ç¬¬8è®²ï¼šå‰æ²¿æŠ€æœ¯ä¸“é¢˜" iconsizing="both"><!---->ç¬¬8è®²ï¼šå‰æ²¿æŠ€æœ¯ä¸“é¢˜<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">FPGAç³»ç»Ÿè®¾è®¡å®éªŒæ•™ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->ç¬¬2è®²ï¼šå¼€æºVerilogä»¿çœŸå·¥å…·</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">å‘¨è´¤ä¸­</span></span><span property="author" content="å‘¨è´¤ä¸­"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025å¹´3æœˆ30æ—¥</span><meta property="datePublished" content="2025-03-30T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 16 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT16M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><!--[--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å¼€æºverilogä»¿çœŸå·¥å…·ä»‹ç»">å¼€æºverilogä»¿çœŸå·¥å…·ä»‹ç»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#icarus-verilog">Icarus Verilog</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#verilator">Verilator</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å·¥å…·é“¾å¯¹æ¯”åˆ†æ">å·¥å…·é“¾å¯¹æ¯”åˆ†æ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç”Ÿæ€ç¯å¢ƒ">ç”Ÿæ€ç¯å¢ƒ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#iverilog-gtkwaveä½¿ç”¨æ•™ç¨‹">iverilog+GTKWaveä½¿ç”¨æ•™ç¨‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#icarus-verilogä»‹ç»">Icarus Verilogä»‹ç»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#icarus-verilog-ç¯å¢ƒéƒ¨ç½²">Icarus Verilog ç¯å¢ƒéƒ¨ç½²</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¼–è¯‘å™¨æ ¸å¿ƒå‚æ•°è¯¦è§£">ç¼–è¯‘å™¨æ ¸å¿ƒå‚æ•°è¯¦è§£</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®Œæ•´å¼€å‘å®ä¾‹">å®Œæ•´å¼€å‘å®ä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vhdlååŒå·¥ä½œæµ">VHDLååŒå·¥ä½œæµ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è‡ªåŠ¨åŒ–è„šæœ¬é…ç½®">è‡ªåŠ¨åŒ–è„šæœ¬é…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç”Ÿæ€ä¸æ‰©å±•">ç”Ÿæ€ä¸æ‰©å±•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ‰©å±•èµ„æº">æ‰©å±•èµ„æº</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#verilatorä½¿ç”¨æ•™ç¨‹">Verilatorä½¿ç”¨æ•™ç¨‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#verilatorç®€ä»‹">Verilatorç®€ä»‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®‰è£…">å®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹1-åˆ›å»ºäºŒè¿›åˆ¶æ–‡ä»¶å¹¶æ‰§è¡Œ">ç¤ºä¾‹1ï¼šåˆ›å»ºäºŒè¿›åˆ¶æ–‡ä»¶å¹¶æ‰§è¡Œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹2-c-æ‰§è¡Œ">ç¤ºä¾‹2ï¼šC++ æ‰§è¡Œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹3-systemc-æ‰§è¡Œ">ç¤ºä¾‹3ï¼šSystemC æ‰§è¡Œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹4-ç”Ÿæˆæ³¢å½¢æ–‡ä»¶">ç¤ºä¾‹4ï¼šç”Ÿæˆæ³¢å½¢æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¤ºä¾‹5-åœ¨verilogä»£ç ä¸­è®¾ç½®è·Ÿè¸ª">ç¤ºä¾‹5ï¼šåœ¨verilogä»£ç ä¸­è®¾ç½®è·Ÿè¸ª</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--]--><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="å¼€æºverilogä»¿çœŸå·¥å…·ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#å¼€æºverilogä»¿çœŸå·¥å…·ä»‹ç»"><span>å¼€æºverilogä»¿çœŸå·¥å…·ä»‹ç»</span></a></h2><h3 id="icarus-verilog" tabindex="-1"><a class="header-anchor" href="#icarus-verilog"><span>Icarus Verilog</span></a></h3><!-- ![GitHub Stars](https://img.shields.io/github/stars/steveicarus/iverilog) --><h4 id="æ ¸å¿ƒæ¶æ„" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒæ¶æ„"><span>æ ¸å¿ƒæ¶æ„</span></a></h4><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" data-title="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">flowchart LR</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Verilog[*.væ–‡ä»¶] --&gt; iverilog --&gt; vvp[ä»¿çœŸå¼•æ“] --&gt; VCD[æ³¢å½¢æ–‡ä»¶] --&gt; GTKWave</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å…³é”®ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#å…³é”®ç‰¹æ€§"><span>å…³é”®ç‰¹æ€§</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> $</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dumpfile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ³¢å½¢æ–‡ä»¶å®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> $</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dumpvars</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ä¿¡å·æŠ“å–é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> $</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> display</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®æ—¶æ‰“å°è°ƒè¯•</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="verilator" tabindex="-1"><a class="header-anchor" href="#verilator"><span>Verilator</span></a></h3><p><img src="https://img.shields.io/github/stagename/verilator/verilator" alt="GitHub Stars"></p><hr><h4 id="åˆ›æ–°æ¶æ„" tabindex="-1"><a class="header-anchor" href="#åˆ›æ–°æ¶æ„"><span>åˆ›æ–°æ¶æ„</span></a></h4><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°†Verilogè½¬æ¢ä¸ºä¼˜åŒ–çš„C++æ¨¡å‹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Verilated</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">::</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">traceEverOn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Vmymodule</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> top </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Vmymodule;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (vtime </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">ns</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">clock</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;"> !</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">clock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">eval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    tfp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dump</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(vtime);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ€§èƒ½å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½å¯¹æ¯”"><span>æ€§èƒ½å¯¹æ¯”</span></a></h4><table><thead><tr><th>æµ‹è¯•é¡¹</th><th>Icarus</th><th>Verilator</th><th>æå‡å¹…åº¦</th></tr></thead><tbody><tr><td>AES128åŠ å¯†</td><td>12.3s</td><td>0.8s</td><td>15x</td></tr><tr><td>DDR3æ§åˆ¶å™¨</td><td>58.4s</td><td>3.2s</td><td>18x</td></tr><tr><td>RISC-Væ ¸å¿ƒ</td><td>214s</td><td>14.7s</td><td>14.5x</td></tr></tbody></table><hr><h3 id="å·¥å…·é“¾å¯¹æ¯”åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å·¥å…·é“¾å¯¹æ¯”åˆ†æ"><span>å·¥å…·é“¾å¯¹æ¯”åˆ†æ</span></a></h3><h4 id="ç‰¹æ€§å¯¹æ¯”è¡¨" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ€§å¯¹æ¯”è¡¨"><span>ç‰¹æ€§å¯¹æ¯”è¡¨</span></a></h4><table><thead><tr><th>ç‰¹æ€§</th><th>Icarus Verilog</th><th>Verilator</th></tr></thead><tbody><tr><td>ç¼–è¯‘æ–¹å¼</td><td>è§£é‡Šæ‰§è¡Œ</td><td>C++è½¬æ¢</td></tr><tr><td>æ³¢å½¢è°ƒè¯•</td><td>å®Œå–„</td><td>æœ‰é™</td></tr><tr><td>è¦†ç›–ç‡åˆ†æ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>å¤šè¯­è¨€æ¥å£</td><td>VPI</td><td>SystemC/C++</td></tr><tr><td>IDEé›†æˆ</td><td>GTKWave</td><td>CLI/GUI</td></tr></tbody></table><h4 id="é€‚ç”¨åœºæ™¯å»ºè®®" tabindex="-1"><a class="header-anchor" href="#é€‚ç”¨åœºæ™¯å»ºè®®"><span>é€‚ç”¨åœºæ™¯å»ºè®®</span></a></h4><ul><li><strong>å¿«é€ŸåŸå‹éªŒè¯</strong> â†’ Icarus Verilog</li><li><strong>å¤æ‚ç³»ç»Ÿä»¿çœŸ</strong> â†’ Verilator</li><li><strong>æ··åˆè¯­è¨€éªŒè¯</strong> â†’ Verilator + C++</li></ul><hr><h4 id="æ³¢å½¢åˆ†æä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æ³¢å½¢åˆ†æä¼˜åŒ–"><span>æ³¢å½¢åˆ†æä¼˜åŒ–</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pygtkwave</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pygtkwave.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">GTKWave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gw:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gw.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">load</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wave.vcd&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gw.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">zoom_full</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gw.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">save</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;capture.png&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="ç”Ÿæ€ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæ€ç¯å¢ƒ"><span>ç”Ÿæ€ç¯å¢ƒ</span></a></h3><h4 id="æ’ä»¶æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶æ‰©å±•"><span>æ’ä»¶æ‰©å±•</span></a></h4><table><thead><tr><th>æ’ä»¶åç§°</th><th>åŠŸèƒ½</th><th>å¹³å°æ”¯æŒ</th></tr></thead><tbody><tr><td>Vbuddy</td><td>å¤–è®¾æ¨¡æ‹Ÿ</td><td>Icarus</td></tr><tr><td>Cocotb</td><td>Pythonæµ‹è¯•æ¡†æ¶</td><td>Both</td></tr><tr><td>FST</td><td>å¿«é€Ÿæ³¢å½¢æ ¼å¼</td><td>Verilator</td></tr></tbody></table><h4 id="å­¦ä¹ èµ„æº" tabindex="-1"><a class="header-anchor" href="#å­¦ä¹ èµ„æº"><span>å­¦ä¹ èµ„æº</span></a></h4><ul><li><a href="http://iverilog.icarus.com/usr_guide.pdf" target="_blank" rel="noopener noreferrer">Icarusç”¨æˆ·æ‰‹å†Œ</a></li><li><a href="https://verilator.org/guide/latest/" target="_blank" rel="noopener noreferrer">Verilatorå®˜æ–¹æ–‡æ¡£</a></li><li>åœ¨çº¿ä»¿çœŸå¹³å°ï¼š<a href="https://www.edaplayground.com" target="_blank" rel="noopener noreferrer">EDA Playground</a></li></ul><h2 id="iverilog-gtkwaveä½¿ç”¨æ•™ç¨‹" tabindex="-1"><a class="header-anchor" href="#iverilog-gtkwaveä½¿ç”¨æ•™ç¨‹"><span>iverilog+GTKWaveä½¿ç”¨æ•™ç¨‹</span></a></h2><p>è‹¥æ‚¨ä»…éœ€éªŒè¯Verilogæ–‡ä»¶çš„è¯­æ³•æ­£ç¡®æ€§å¹¶è¿›è¡ŒåŸºç¡€æ—¶åºä»¿çœŸï¼ŒIcarus Verilogï¼ˆiverilogï¼‰æ˜¯æœ€è½»é‡é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚ç›¸è¾ƒäºä¸»æµFPGAé›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰åŠ¨è¾„æ•°GBçš„å®‰è£…ä½“ç§¯ï¼Œå…¶Windowsç‰ˆå®‰è£…åŒ…ä»…18MBï¼ˆæœ€æ–°v12ç‰ˆï¼‰ï¼ŒåŒæ—¶æä¾›Linux/macOSåŸç”Ÿæ”¯æŒã€‚ä½œä¸ºå¼€æºç¼–è¯‘å™¨ï¼ˆGPLv2åè®®ï¼‰ï¼Œå®ƒå…¼å…·ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ol><li><strong>å…¨å¹³å°æ”¯æŒ</strong> - å®Œç¾å…¼å®¹Windows/Linux/macOSæ“ä½œç³»ç»Ÿ</li><li><strong>æç®€å·¥ä½œæµ</strong> - ç»ˆç«¯å‘½ä»¤ç›´è¾¾ç¼–è¯‘/ä»¿çœŸå…¨æµç¨‹</li><li><strong>EDAå…¼å®¹æ€§</strong> - æ”¯æŒæ ‡å‡†Verilog-2005è¯­æ³•åŠéƒ¨åˆ†SystemVerilogæ‰©å±•</li></ol><hr><h3 id="icarus-verilogä»‹ç»" tabindex="-1"><a class="header-anchor" href="#icarus-verilogä»‹ç»"><span>Icarus Verilogä»‹ç»</span></a></h3><p>Icarus Verilogï¼ˆiverilogï¼‰æ˜¯ç”±Stephen Williamså¼€å‘çš„è½»é‡çº§å¼€æºVerilogç¼–è¯‘å™¨ï¼ŒåŸºäºC++å®ç°å¹¶éµå¾ª<strong>GNU GPLv2åè®®</strong>ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½é“¾åŒ…å«ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Linuxå®‰è£…ç¤ºä¾‹ï¼ˆDebianç³»ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iverilog</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtkwave</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><strong>æ¶æ„ç‰¹æ€§</strong>ï¼š</p><ol><li><strong>è·¨å¹³å°ç¼–è¯‘</strong> - æ”¯æŒWindows(MSVC/MinGW)/Linux/macOSä¸‰ç«¯å¼€å‘</li><li><strong>EDAå·¥å…·é“¾é›†æˆ</strong><ul><li>å†…ç½®æ³¢å½¢ç”Ÿæˆå™¨ï¼ˆé€šè¿‡<code>vvp</code>å‘½ä»¤è¡Œå·¥å…·ï¼‰</li><li>GTKWaveæ†ç»‘å®ç°æ³¢å½¢å¯è§†åŒ–</li></ul></li><li><strong>å¤šè¯­è¨€äº’æ“ä½œ</strong> - æ”¯æŒVerilog/VHDLæ··åˆä»¿çœŸä¸æ ¼å¼è½¬æ¢</li></ol><hr><p>å…¸å‹å·¥ä½œæµç¤ºä¾‹ï¼š</p><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  initial</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    clk = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    forever</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> #5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk = ~clk;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  end</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endmodule</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> testbench.v</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # ç¼–è¯‘ç”Ÿæˆæ³¢å½¢æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vvp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                        # æ‰§è¡Œä»¿çœŸ                </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gtkwave</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave.vcd</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                # å¼€å¯æ³¢å½¢åˆ†æ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>å·¥å…·é“¾ä¼˜åŠ¿å¯¹æ¯”è¡¨ï¼š</p><table><thead><tr><th>ç‰¹æ€§</th><th>Icarus Verilog</th><th>å•†ä¸šIDE</th></tr></thead><tbody><tr><td>å®‰è£…ä½“ç§¯</td><td>&lt;20MB</td><td>2GB+</td></tr><tr><td>å¯åŠ¨é€Ÿåº¦</td><td>0.3s</td><td>15s+</td></tr><tr><td>æ ‡å‡†æ”¯æŒ</td><td>IEEE1364-2005</td><td>SystemVerilog</td></tr></tbody></table><h3 id="icarus-verilog-ç¯å¢ƒéƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#icarus-verilog-ç¯å¢ƒéƒ¨ç½²"><span>Icarus Verilog ç¯å¢ƒéƒ¨ç½²</span></a></h3><h4 id="æ ¸å¿ƒç»„ä»¶è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒç»„ä»¶è¯´æ˜"><span>æ ¸å¿ƒç»„ä»¶è¯´æ˜</span></a></h4><ul><li><strong>ç‰ˆæœ¬ä¿¡æ¯</strong>ï¼šå½“å‰ç¨³å®šç‰ˆä¸º v12 (2022)</li><li><strong>ä¾èµ–å·¥å…·é“¾</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> iverilog</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (ä¸»ç¼–è¯‘å™¨)  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vvp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (ä»¿çœŸæ‰§è¡Œå¼•æ“)  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> gtkwave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (æ³¢å½¢å¯è§†åŒ–å·¥å…·)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="windows-éƒ¨ç½²æµç¨‹" tabindex="-1"><a class="header-anchor" href="#windows-éƒ¨ç½²æµç¨‹"><span>Windows éƒ¨ç½²æµç¨‹</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line highlighted"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ä¸‹è½½å®˜æ–¹å®‰è£…åŒ…ï¼ˆæ¸…åé•œåƒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$url</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;https://mirrors.tuna.tsinghua.edu.cn/iverilog/v12/iverilog-v12-x64-setup.exe&quot;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">Invoke-WebRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Uri </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$url</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">OutFile </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">iverilog_setup.exe</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># é™é»˜å®‰è£…ï¼ˆé»˜è®¤è·¯å¾„ C:\iverilogï¼‰</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">Start-Process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .\</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">iverilog_setup.exe</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ArgumentList </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/S&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Wait</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># éªŒè¯å®‰è£…è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">where.exe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> iverilog</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">where.exe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> vvp</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">where.exe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gtkwave</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="linux-éƒ¨ç½²-ä»¥-ubuntu-22-04-ä¸ºä¾‹" tabindex="-1"><a class="header-anchor" href="#linux-éƒ¨ç½²-ä»¥-ubuntu-22-04-ä¸ºä¾‹"><span>Linux éƒ¨ç½²ï¼ˆä»¥ Ubuntu 22.04 ä¸ºä¾‹ï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># APT æºé…ç½®ï¼ˆæ¨èæ¸…åæºï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sed</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;s/archive.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/apt/sources.list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åŸºç¡€å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iverilog</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtkwave</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¼€å‘ç‰ˆå®‰è£…ï¼ˆå¯é€‰ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add-apt-repository</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ppa:ppg/ppa</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> icarus-verilog-git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="macos-éƒ¨ç½²æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#macos-éƒ¨ç½²æ–¹æ¡ˆ"><span>macOS éƒ¨ç½²æ–¹æ¡ˆ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Homebrew æ–¹æ¡ˆï¼ˆæ¨èï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> oseng/os</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # æ·»åŠ ç¬¬ä¸‰æ–¹ä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> icarus-verilog</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cask</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtkwave</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># MacPorts æ–¹æ¡ˆï¼ˆå¤‡é€‰ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iverilog</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtkwave</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ç¯å¢ƒéªŒè¯" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒéªŒè¯"><span>ç¯å¢ƒéªŒè¯</span></a></h4><p>Windows/Linux/macOS é€šç”¨éªŒè¯å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ç‰ˆæœ¬ä¿¡æ¯ï¼š&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ç¼–è¯‘è·¯å¾„ï¼š&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iverilog</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ä»¿çœŸå¼•æ“ï¼š&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vvp</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;æ³¢å½¢å·¥å…·ï¼š&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtkwave</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><blockquote><p><strong>ç–‘éš¾è§£ç­”</strong>ï¼š</p><ul><li>Ubuntu æºæ›´æ–°å¤±è´¥æ—¶å°è¯•<code>sudo rm /var/lib/apt/lists/lock</code></li><li>Mac å®‰è£…å‡ºç°æƒé™é—®é¢˜ä½¿ç”¨<code>brew doctor</code>è¯Šæ–­</li><li>å‡ºç°åŠ¨æ€åº“ç¼ºå¤±æ—¶æ‰§è¡Œ<code>sudo apt install libreadline-dev</code></li></ul></blockquote><hr><h3 id="ç¼–è¯‘å™¨æ ¸å¿ƒå‚æ•°è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘å™¨æ ¸å¿ƒå‚æ•°è¯¦è§£"><span>ç¼–è¯‘å™¨æ ¸å¿ƒå‚æ•°è¯¦è§£</span></a></h3><h4 id="o-è¾“å‡ºæ–‡ä»¶å‚æ•°" tabindex="-1"><a class="header-anchor" href="#o-è¾“å‡ºæ–‡ä»¶å‚æ•°"><span>[-o] è¾“å‡ºæ–‡ä»¶å‚æ•°</span></a></h4><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># é€šç”¨ç¼–è¯‘å‘½ä»¤æ¨¡æ¿</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">iverilog -o &lt;output_file&gt; &lt;source_files&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>ä½¿ç”¨åœºæ™¯</th><th>ç¤ºä¾‹å‘½ä»¤</th><th>è¾“å‡ºç»“æœ</th></tr></thead><tbody><tr><td>é»˜è®¤å‚æ•°</td><td><code>iverilog test.v</code></td><td>a.out</td></tr><tr><td>æŒ‡å®šè¾“å‡ºå</td><td><code>iverilog -o wave test.v</code></td><td>wave</td></tr></tbody></table><hr><h4 id="y-æ¨¡å—è·¯å¾„å£°æ˜" tabindex="-1"><a class="header-anchor" href="#y-æ¨¡å—è·¯å¾„å£°æ˜"><span>[-y] æ¨¡å—è·¯å¾„å£°æ˜</span></a></h4><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å…¸å‹æ¨¡å—æœªæ‰¾åˆ°é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Error: Unknown </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: mod_name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–‡ä»¶æ ‘ç»“æ„ç¤ºä¾‹ï¼š</p><div class="language-filetree line-numbers-mode" data-highlighter="shiki" data-ext="filetree" data-title="filetree" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>â”œâ”€â”€ tb/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ top_tb.v  </span></span>
<span class="line"><span>â””â”€â”€ src/</span></span>
<span class="line"><span>    â””â”€â”€ module.v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>è§£å†³æ–¹æ¡ˆï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ·»åŠ å¤šä¸ªè·¯å¾„å£°æ˜ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./src</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ../lib/arithmetic</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> top_tb.v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="i-å¤´æ–‡ä»¶åŒ…å«" tabindex="-1"><a class="header-anchor" href="#i-å¤´æ–‡ä»¶åŒ…å«"><span>[-I] å¤´æ–‡ä»¶åŒ…å«</span></a></h4><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">`include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;defines.vh&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><p>è·¨å¹³å°è·¯å¾„å£°æ˜æŠ€å·§ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Windowsè·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -I</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:/project/headers</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Linux/Macè·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -I</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/verilog/includes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="tvhdl-è¯­è¨€è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#tvhdl-è¯­è¨€è½¬æ¢"><span>[-tvhdl] è¯­è¨€è½¬æ¢</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Verilogè½¬VHDLæ‰¹å¤„ç†è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -tvhdl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;"> ${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">filename</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.vhd</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;"> ${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">filename</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="å®Œæ•´å¼€å‘å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#å®Œæ•´å¼€å‘å®ä¾‹"><span>å®Œæ•´å¼€å‘å®ä¾‹</span></a></h3><h4 id="å·¥ç¨‹æ–‡ä»¶ç»“æ„" tabindex="-1"><a class="header-anchor" href="#å·¥ç¨‹æ–‡ä»¶ç»“æ„"><span>å·¥ç¨‹æ–‡ä»¶ç»“æ„</span></a></h4><div class="language-filetree line-numbers-mode" data-highlighter="shiki" data-ext="filetree" data-title="filetree" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>â”œâ”€â”€ rtl/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ led_demo.v        # è®¾è®¡æ–‡ä»¶  </span></span>
<span class="line"><span>â”œâ”€â”€ tb/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ led_demo_tb.v     # æµ‹è¯•å¹³å°  </span></span>
<span class="line"><span>â””â”€â”€ Makefile              # è‡ªåŠ¨åŒ–è„šæœ¬</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="rtlä»£ç ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#rtlä»£ç ä¾‹å­"><span>RTLä»£ç ä¾‹å­</span></a></h4><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// LEDæ§åˆ¶æ¨¡å—ï¼ˆåè¿›åˆ¶è®¡æ•°å™¨è§¦å‘ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> led_demo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  input</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   wire</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    clk,    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç³»ç»Ÿæ—¶é’Ÿï¼ˆ50MHzï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  input</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   wire</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    rst_n,  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä½ç”µå¹³å¤ä½ä¿¡å·</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  output</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     led     </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// LEDè¾“å‡º</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] cnt;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 4ä½è®¡æ•°å™¨ï¼ˆè®¡æ•°èŒƒå›´0-10ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æ—¶é’Ÿé©±åŠ¨è®¡æ•°å™¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">or</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> negedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> rst_n) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (!rst_n) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      cnt &lt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4&#39;d0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      cnt &lt;= (cnt &gt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4&#39;d10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ? </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4&#39;d0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : cnt + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4&#39;d1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // LEDçŠ¶æ€åˆ‡æ¢é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">posedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clk </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">or</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> negedge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> rst_n) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (!rst_n) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      led &lt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1&#39;b0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (cnt == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4&#39;d10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      led &lt;= ~led;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endmodule</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="testbench" tabindex="-1"><a class="header-anchor" href="#testbench"><span>testbench</span></a></h4><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">`timescale</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 1ns/1ps  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ—¶é—´ç²¾åº¦è®¾ç½®</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> led_demo_tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æ—¶é’Ÿå‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  parameter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CLK_PERIOD = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 50MHzæ—¶é’Ÿå‘¨æœŸ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æµ‹è¯•ä¿¡å·å£°æ˜</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   clk_tb;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  reg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   rst_n_tb;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  wire</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  led_tb;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æ³¢å½¢è®°å½•ï¼ˆIcarusä¸“ç”¨ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  initial</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> begin</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    $dumpfile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;wave.vcd&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    $dumpvars</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, led_demo_tb);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æ—¶é’Ÿç”Ÿæˆï¼ˆæŒç»­è¿è¡Œï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  initial</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    clk_tb = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1&#39;b0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    forever</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> #(CLK_PERIOD/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">clk_tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = ~</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">clk_tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¤ä½æ§åˆ¶åºåˆ—</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  initial</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> begin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    rst_n_tb = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1&#39;b0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #(CLK_PERIOD*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) rst_n_tb = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1&#39;b1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 3ä¸ªå‘¨æœŸåé‡Šæ”¾å¤ä½</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #(CLK_PERIOD*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">$finish</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;         </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è¿è¡Œ30ä¸ªå‘¨æœŸåç»“æŸ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // DUTå®ä¾‹åŒ–</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  led_demo</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> dut_inst</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .clk   (clk_tb),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .rst_n (rst_n_tb),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    .led   (led_tb)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endmodule</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ä»¿çœŸæ•°æ®ç”Ÿæˆæµç¨‹" tabindex="-1"><a class="header-anchor" href="#ä»¿çœŸæ•°æ®ç”Ÿæˆæµç¨‹"><span>ä»¿çœŸæ•°æ®ç”Ÿæˆæµç¨‹</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Step 1 - ç¼–è¯‘æ£€æµ‹</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./rtl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./tb/led_demo_tb.v</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Step 2 - ç”Ÿæˆæ³¢å½¢ï¼ˆæ”¯æŒæ ¼å¼æ‰©å±•ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vvp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -lxt2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Step 3 - æ³¢å½¢åˆ†æï¼ˆå¤šæ ¼å¼å…¼å®¹ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gtkwave</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave.vcd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wave.lxt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="vhdlååŒå·¥ä½œæµ" tabindex="-1"><a class="header-anchor" href="#vhdlååŒå·¥ä½œæµ"><span>VHDLååŒå·¥ä½œæµ</span></a></h3><h4 id="æ··åˆè¯­è¨€ç¼–è¯‘é…ç½®" tabindex="-1"><a class="header-anchor" href="#æ··åˆè¯­è¨€ç¼–è¯‘é…ç½®"><span>æ··åˆè¯­è¨€ç¼–è¯‘é…ç½®</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¯ç”¨SystemVerilogå…¼å®¹æ¨¡å¼</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iverilog</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g2012</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vhdl_src</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mixed_design</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         file.vhd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> top.sv</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="è‡ªåŠ¨åŒ–è„šæœ¬é…ç½®" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨åŒ–è„šæœ¬é…ç½®"><span>è‡ªåŠ¨åŒ–è„šæœ¬é…ç½®</span></a></h3><h4 id="windowsæ‰¹å¤„ç†æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#windowsæ‰¹å¤„ç†æ–‡ä»¶"><span>Windowsæ‰¹å¤„ç†æ–‡ä»¶</span></a></h4><div class="language-batch line-numbers-mode" data-highlighter="shiki" data-ext="batch" data-title="batch" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">echo</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> off</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> SRC_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.\rtl</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> TB_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.\tb</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">iverilog -y </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">%SRC_DIR%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -o wave </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">%TB_DIR%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\*.v</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vvp -n wave -lxt2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">gtkwave wave.vcd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="linux-mac-makefileæ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#linux-mac-makefileæ¨¡æ¿"><span>Linux/Mac Makefileæ¨¡æ¿</span></a></h4><div class="language-makefile line-numbers-mode" data-highlighter="shiki" data-ext="makefile" data-title="makefile" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Verilogä»¿çœŸè‡ªåŠ¨åŒ–è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SIM_NAME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> sim_out</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SRC_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> ./rtl</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TB_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> ./tb</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.PHONY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> all compile simulate view clean</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">all</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> compile simulate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">compile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	iverilog -o </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SIM_NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	-y </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SRC_DIR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">	$(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TB_DIR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">/led_demo_tb.v</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">simulate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	vvp -n </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SIM_NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> -lxt2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	gtkwave wave.vcd &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">clean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	rm -f </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SIM_NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> *.vcd *.lxt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ä»¿çœŸç»“æœ" tabindex="-1"><a class="header-anchor" href="#ä»¿çœŸç»“æœ"><span>ä»¿çœŸç»“æœ</span></a></h4><p><img src="/FPGA-course/assets/gtkwave-CzIeFVH0.png" alt="gtkwave"></p><hr><h3 id="ç”Ÿæ€ä¸æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæ€ä¸æ‰©å±•"><span>ç”Ÿæ€ä¸æ‰©å±•</span></a></h3><h4 id="ç¡¬ä»¶å‚å•†æ”¯æŒåˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#ç¡¬ä»¶å‚å•†æ”¯æŒåˆ—è¡¨"><span>ç¡¬ä»¶å‚å•†æ”¯æŒåˆ—è¡¨</span></a></h4><table><thead><tr><th>å‚å•†</th><th>æ”¯æŒçŠ¶æ€</th><th>é…ç½®å‘½ä»¤ç¤ºä¾‹</th></tr></thead><tbody><tr><td>Xilinx</td><td>ISEå…¼å®¹</td><td><code>-y $XILINX/verilog/src</code></td></tr><tr><td>Altera</td><td>Quartuséƒ¨åˆ†æ”¯æŒ</td><td><code>-y $QUARTUS/eda/sim_lib</code></td></tr><tr><td>Lattice</td><td>Diamondå®Œæ•´æ”¯æŒ</td><td><code>-y $DIAMOND/cae_library</code></td></tr></tbody></table><hr><h3 id="æ‰©å±•èµ„æº" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•èµ„æº"><span>æ‰©å±•èµ„æº</span></a></h3><p><a href="https://github.com/steveicarus/iverilog" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/stars/steveicarus/iverilog?style=flat-square" alt="GitHub Stars"></a><br><a href="https://iverilog.icarus.com/docs" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£é•œåƒ</a> | <a href="https://gtkwave.sourceforge.net/gtkwave.pdf" target="_blank" rel="noopener noreferrer">GTKWaveæ‰‹å†Œ</a></p><hr><h2 id="verilatorä½¿ç”¨æ•™ç¨‹" tabindex="-1"><a class="header-anchor" href="#verilatorä½¿ç”¨æ•™ç¨‹"><span>Verilatorä½¿ç”¨æ•™ç¨‹</span></a></h2><h3 id="verilatorç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#verilatorç®€ä»‹"><span>Verilatorç®€ä»‹</span></a></h3><p>Verilator è½¯ä»¶åŒ…å°† Verilogå’Œ SystemVerilogç¡¬ä»¶æè¿°è¯­è¨€ï¼ˆHDLï¼‰è®¾è®¡è½¬æ¢ä¸º C++ æˆ– SystemC æ¨¡å‹ï¼Œè¯¥æ¨¡å‹åœ¨ç¼–è¯‘åå¯ä»¥æ‰§è¡Œã€‚Verilator ä¸æ˜¯ä¼ ç»Ÿçš„æ¨¡æ‹Ÿå™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ã€‚</p><p>Verilator é€šå¸¸æŒ‰ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ï¼š</p><ol><li><p><strong>Verilator å¯æ‰§è¡Œæ–‡ä»¶</strong>ï¼šä½¿ç”¨ç±»ä¼¼äº GCC æˆ–å…¶ä»–æ¨¡æ‹Ÿå™¨ï¼ˆå¦‚ Cadence Verilog-XL/NC-Verilog æˆ– Synopsys VCSï¼‰çš„å‚æ•°è°ƒç”¨ Verilator å¯æ‰§è¡Œæ–‡ä»¶ã€‚Verilator è¯»å–æŒ‡å®šçš„ SystemVerilog ä»£ç ï¼Œè¿›è¡Œä»£ç æ£€æŸ¥ï¼Œå¯é€‰åœ°æ·»åŠ è¦†ç›–ç‡å’Œæ³¢å½¢è·Ÿè¸ªæ”¯æŒï¼Œå¹¶å°†è®¾è®¡ç¼–è¯‘ä¸ºæºçº§å¤šçº¿ç¨‹ C++ æˆ– SystemC â€œæ¨¡å‹â€ã€‚ç”Ÿæˆçš„æ¨¡å‹çš„ C++ æˆ– SystemC ä»£ç è¾“å‡ºä¸º <code>.cpp</code> å’Œ <code>.h</code> æ–‡ä»¶ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º â€œVerilatingâ€ï¼Œè¾“å‡ºçš„æ˜¯ä¸€ä¸ª â€œVerilatedâ€ æ¨¡å‹ã€‚</p></li><li><p><strong>ç”¨æˆ·ç¼–å†™çš„ C++ åŒ…è£…æ–‡ä»¶</strong>ï¼šä¸ºäº†è¿›è¡Œæ¨¡æ‹Ÿï¼Œéœ€è¦ä¸€ä¸ªç”¨æˆ·ç¼–å†™çš„ C++ åŒ…è£…æ–‡ä»¶ï¼Œç§°ä¸º â€œwrapperâ€ã€‚è¿™ä¸ªåŒ…è£…æ–‡ä»¶å®šä¹‰äº† C++ æ ‡å‡†å‡½æ•° <code>main()</code>ï¼Œè¯¥å‡½æ•°å°† Verilated æ¨¡å‹å®ä¾‹åŒ–ä¸º C++/SystemC å¯¹è±¡ã€‚</p></li><li><p><strong>ç¼–è¯‘</strong>ï¼šç”¨æˆ·ç¼–å†™çš„ C++ åŒ…è£…æ–‡ä»¶ã€Verilator ç”Ÿæˆçš„æ–‡ä»¶ã€Verilator æä¾›çš„ â€œè¿è¡Œæ—¶åº“â€ ä»¥åŠï¼ˆå¦‚æœé€‚ç”¨ï¼‰SystemC åº“ï¼Œä½¿ç”¨ C++ ç¼–è¯‘å™¨ç¼–è¯‘ï¼Œç”Ÿæˆæ¨¡æ‹Ÿå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p></li><li><p><strong>æ¨¡æ‹Ÿè¿è¡Œ</strong>ï¼šç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å°†åœ¨ â€œæ¨¡æ‹Ÿè¿è¡Œæ—¶â€ æ‰§è¡Œå®é™…çš„æ¨¡æ‹Ÿã€‚</p></li><li><p><strong>æ³¢å½¢è·Ÿè¸ªå’Œè¦†ç›–ç‡åˆ†æ</strong>ï¼šå¦‚æœå¯ç”¨äº†ç›¸å…³åŠŸèƒ½ï¼Œå¯æ‰§è¡Œæ–‡ä»¶è¿˜å¯ä»¥ç”Ÿæˆè®¾è®¡çš„æ³¢å½¢è·Ÿè¸ªæ–‡ä»¶ä»¥ä¾›æŸ¥çœ‹ï¼Œå¹¶åˆ›å»ºè¦†ç›–ç‡åˆ†ææ•°æ®ç”¨äºåç»­åˆ†æã€‚</p></li></ol><h3 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…"><span>å®‰è£…</span></a></h3><p>æœ¬èŠ‚å°†è®¨è®ºå¦‚ä½•å®‰è£… Verilatorã€‚</p><h4 id="åŒ…ç®¡ç†å™¨å¿«é€Ÿå®‰è£…" tabindex="-1"><a class="header-anchor" href="#åŒ…ç®¡ç†å™¨å¿«é€Ÿå®‰è£…"><span>åŒ…ç®¡ç†å™¨å¿«é€Ÿå®‰è£…</span></a></h4><p>ä½¿ç”¨å‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å™¨æ˜¯æœ€ç®€å•çš„å…¥é—¨æ–¹å¼ã€‚ï¼ˆè¯·æ³¨æ„ï¼ŒåŒ…ç®¡ç†å™¨ä¸­çš„ç‰ˆæœ¬å¯èƒ½ä¸æ˜¯æœ€æ–°çš„ï¼Œå› æ­¤ Git å¿«é€Ÿå®‰è£…å¯èƒ½æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ï¼‰è¦é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> verilator</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # åœ¨Ubuntu24.04ä¸Šæˆ–è€…WSL2 Ubuntu24.04</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¯¹äºå…¶ä»–å‘è¡Œç‰ˆï¼Œè¯·å‚è€ƒ <a href="https://repology.org/project/verilator/packages" target="_blank" rel="noopener noreferrer">Repology Verilator Distro Packages</a>ã€‚</p><h4 id="pre-commit-å¿«é€Ÿå®‰è£…" tabindex="-1"><a class="header-anchor" href="#pre-commit-å¿«é€Ÿå®‰è£…"><span>pre-commit å¿«é€Ÿå®‰è£…</span></a></h4><p>ä½ å¯ä»¥ä½¿ç”¨ Verilator çš„ pre-commit é’©å­åœ¨æäº¤ä»£ç å‰è¿›è¡Œä»£ç æ£€æŸ¥ã€‚å®ƒå°è£…äº† Verilator æ„å»ºçš„ Docker å®¹å™¨ï¼Œå› æ­¤ä½ éœ€è¦åœ¨ç³»ç»Ÿä¸Šå®‰è£… Docker æ‰èƒ½ä½¿ç”¨å®ƒã€‚verilator é•œåƒä¼šè‡ªåŠ¨ä¸‹è½½ã€‚</p><p>è¦ä½¿ç”¨è¯¥é’©å­ï¼Œè¯·åœ¨ä½ çš„ <code>.pre-commit-config.yaml</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">repos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">repo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://github.com/verilator/verilator</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    rev</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v5.026</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # æˆ–æ›´é«˜ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    hooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">verilator</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="git-å¿«é€Ÿå®‰è£…" tabindex="-1"><a class="header-anchor" href="#git-å¿«é€Ÿå®‰è£…"><span>Git å¿«é€Ÿå®‰è£…</span></a></h4><p>ä» Git å®‰è£… Verilator æä¾›äº†æœ€å¤§çš„çµæ´»æ€§ï¼›æœ‰å…³æ›´å¤šé€‰é¡¹å’Œè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸‹é¢çš„è¯¦ç»†æ„å»ºè¯´æ˜ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œä» Git å®‰è£…çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å…ˆå†³æ¡ä»¶ï¼š</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#sudo apt-get install git help2man perl python3 make autoconf g++ flex bison ccache</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#sudo apt-get install libgoogle-perftools-dev numactl perl-doc</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#sudo apt-get install libfl2  # ä»…é™ Ubuntuï¼ˆå¦‚æœæŠ¥é”™å¯ä»¥å¿½ç•¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#sudo apt-get install libfl-dev  # ä»…é™ Ubuntuï¼ˆå¦‚æœæŠ¥é”™å¯ä»¥å¿½ç•¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#sudo apt-get install zlibc zlib1g zlib1g-dev  # ä»…é™ Ubuntuï¼ˆå¦‚æœæŠ¥é”™å¯ä»¥å¿½ç•¥ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/verilator/verilator</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # ä»…é¦–æ¬¡éœ€è¦</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ¯æ¬¡éœ€è¦æ„å»ºæ—¶ï¼š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">unsetenv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VERILATOR_ROOT</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # å¯¹äº cshï¼›å¦‚æœæ˜¯ bash å¯ä»¥å¿½ç•¥é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">unset</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VERILATOR_ROOT</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # å¯¹äº bash</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> verilator</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">         # ç¡®ä¿ git ä»“åº“æ˜¯æœ€æ–°çš„</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # æŸ¥çœ‹æœ‰å“ªäº›ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#git checkout master      # ä½¿ç”¨å¼€å‘åˆ†æ”¯ï¼ˆä¾‹å¦‚æœ€è¿‘çš„ bug ä¿®å¤ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#git checkout stable      # ä½¿ç”¨æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#git checkout v{version}  # åˆ‡æ¢åˆ°æŒ‡å®šçš„å‘å¸ƒç‰ˆæœ¬</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">autoconf</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">         # åˆ›å»º ./configure è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./configure</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # é…ç½®å¹¶åˆ›å»º Makefile</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nproc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # æ„å»º Verilator æœ¬èº«ï¼ˆå¦‚æœæŠ¥é”™ï¼Œå¯ä»¥å°è¯•åªä½¿ç”¨ &#39;make&#39;ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¤ºä¾‹1-åˆ›å»ºäºŒè¿›åˆ¶æ–‡ä»¶å¹¶æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹1-åˆ›å»ºäºŒè¿›åˆ¶æ–‡ä»¶å¹¶æ‰§è¡Œ"><span>ç¤ºä¾‹1ï¼šåˆ›å»ºäºŒè¿›åˆ¶æ–‡ä»¶å¹¶æ‰§è¡Œ</span></a></h3><p>æˆ‘ä»¬å°†æŠŠè¿™ä¸ª SystemVerilog ç¤ºä¾‹ç¼–è¯‘æˆä¸€ä¸ª Verilated ä»¿çœŸäºŒè¿›åˆ¶æ–‡ä»¶ã€‚æœ‰å…³æ›´è¯¦ç»†çš„ç¤ºä¾‹ï¼Œè¯·å‚é˜… <strong>ç¤ºä¾‹ C++ æ‰§è¡Œ</strong>ã€‚</p><p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… Verilatorï¼Œè¯·å‚è€ƒ <a href="#installation">å®‰è£…è¯´æ˜</a>ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœä½ æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨å®‰è£…çš„ Verilatorï¼Œæˆ–è€…é€šè¿‡ <code>make install</code> å°† Verilator å®‰è£…åˆ°é»˜è®¤è·¯å¾„ä¸­ï¼Œé‚£ä¹ˆä½ ä¸éœ€è¦åœ¨ç¯å¢ƒä¸­è¿›è¡Œä»»ä½•ç‰¹æ®Šè®¾ç½®ï¼Œä¹Ÿä¸åº”è¯¥è®¾ç½® <code>VERILATOR_ROOT</code>ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æ˜¯ä»æºä»£ç å®‰è£…çš„ Verilatorï¼Œå¹¶ä¸”å¸Œæœ›ä»ç¼–è¯‘ Verilator çš„ç›®å½•ä¸­è¿è¡Œå®ƒï¼Œé‚£ä¹ˆä½ éœ€è¦æŒ‡å‘è¯¥å·¥å…·åŒ…ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¦‚æœä½¿ç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿåˆ†å‘çš„ Verilatorï¼Œè¯·ä¸è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> VERILATOR_ROOT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">verilator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">was</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">installed</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$VERILATOR_ROOT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹ Verilog æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_our</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_our</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">our.v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  module our;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     initial begin $display(&quot;Hello World&quot;); $finish; end</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  endmodule</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªå°ç¤ºä¾‹è¿è¡Œ Verilatorï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">verilator</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --binary</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -j</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Wall</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> our.v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åˆ†è§£è¿™ä¸ªå‘½ä»¤ï¼š</p><ul><li><code>--binary</code>ï¼šå‘Šè¯‰ Verilator æ‰§è¡Œåˆ›å»ºä»¿çœŸå¯æ‰§è¡Œæ–‡ä»¶æ‰€éœ€çš„æ‰€æœ‰æ­¥éª¤ã€‚</li><li><code>-j 0</code>ï¼šä½¿ç”¨æœºå™¨ä¸Šå°½å¯èƒ½å¤šçš„ CPU çº¿ç¨‹è¿›è¡Œ Verilateã€‚</li><li><code>-Wall</code>ï¼šå¯ç”¨æ›´å¼ºçš„ lint è­¦å‘Šã€‚</li><li>æœ€åï¼Œ<code>our.v</code> æ˜¯æˆ‘ä»¬çš„ SystemVerilog è®¾è®¡æ–‡ä»¶ã€‚</li></ul><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¿è¡Œç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">obj_dir/Vour</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœä¸ºï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Hello World</span></span>
<span class="line"><span>- our.v:2: Verilog $finish</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†æ›´å¥½åœ°ç®¡ç†æµç¨‹ï¼Œå»ºè®®ä½¿ç”¨ Makefile æ¥è‡ªåŠ¨è¿è¡Œè¿™äº›æ­¥éª¤ï¼Œè¿™æ ·å½“æºä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¿è¡Œæ‰€æœ‰é€‚å½“çš„æ­¥éª¤ã€‚ä¸ºäº†å¸®åŠ©å®ç°è¿™ä¸€ç‚¹ï¼ŒVerilator å¯ä»¥ç”Ÿæˆä¸€ä¸ª Makefile ä¾èµ–æ–‡ä»¶ã€‚</p><h3 id="ç¤ºä¾‹2-c-æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹2-c-æ‰§è¡Œ"><span>ç¤ºä¾‹2ï¼šC++ æ‰§è¡Œ</span></a></h3><p>æˆ‘ä»¬å°†æŠŠè¿™ä¸ªç¤ºä¾‹ç¼–è¯‘æˆ C++ ä»£ç ã€‚æœ‰å…³æ­¤ C++ ä»£ç çš„è¯¦ç»†è¯´æ˜å’Œæ³¨é‡Šç‰ˆæœ¬ï¼Œè¯·å‚é˜… Verilator åˆ†å‘ç‰ˆä¸­çš„ <code>examples/make_tracing_c/sim_main.cpp</code> æ–‡ä»¶ã€‚</p><p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… Verilatorï¼Œè¯·å‚è€ƒ <a href="#installation">å®‰è£…è¯´æ˜</a>ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœä½ æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨å®‰è£…çš„ Verilatorï¼Œæˆ–è€…é€šè¿‡ <code>make install</code> å°† Verilator å®‰è£…åˆ°é»˜è®¤è·¯å¾„ä¸­ï¼Œé‚£ä¹ˆä½ ä¸éœ€è¦åœ¨ç¯å¢ƒä¸­è¿›è¡Œä»»ä½•ç‰¹æ®Šè®¾ç½®ï¼Œä¹Ÿä¸åº”è¯¥è®¾ç½® <code>VERILATOR_ROOT</code>ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æ˜¯ä»æºä»£ç å®‰è£…çš„ Verilatorï¼Œå¹¶ä¸”å¸Œæœ›ä»ç¼–è¯‘ Verilator çš„ç›®å½•ä¸­è¿è¡Œå®ƒï¼Œé‚£ä¹ˆä½ éœ€è¦æŒ‡å‘è¯¥å·¥å…·åŒ…ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¦‚æœä½¿ç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿåˆ†å‘çš„ Verilatorï¼Œè¯·ä¸è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> VERILATOR_ROOT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">verilator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">was</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">installed</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$VERILATOR_ROOT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹ Verilog æ–‡ä»¶å’Œä¸€ä¸ª C++ åŒ…è£…æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_our</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_our</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">our.v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  module our;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     initial begin $display(&quot;Hello World&quot;); $finish; end</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  endmodule</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">sim_main.cpp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  #include &quot;Vour.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  #include &quot;verilated.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  int main(int argc, char** argv) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      VerilatedContext* contextp = new VerilatedContext;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      contextp-&gt;commandArgs(argc, argv);</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Vour* top = new Vour{contextp};</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      while (!contextp-&gt;gotFinish()) { top-&gt;eval(); }</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      delete top;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      delete contextp;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      return 0;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªå°ç¤ºä¾‹è¿è¡Œ Verilatorï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">verilator</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --build</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -j</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Wall</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sim_main.cpp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> our.v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åˆ†è§£è¿™ä¸ªå‘½ä»¤ï¼š</p><ul><li><code>--cc</code>ï¼šç”Ÿæˆ C++ è¾“å‡ºï¼ˆè€Œä¸æ˜¯ SystemC æˆ–ä»…è¿›è¡Œ lint æ£€æŸ¥ï¼‰ã€‚</li><li><code>--exe</code>ï¼šä¸æˆ‘ä»¬çš„ <code>sim_main.cpp</code> åŒ…è£…æ–‡ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¾¿æ„å»ºç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…æ˜¯åº“ã€‚</li><li><code>--build</code>ï¼šè®© Verilator è‡ªåŠ¨è°ƒç”¨ <code>make</code>ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨ <code>make</code> ä½œä¸ºå•ç‹¬çš„æ­¥éª¤ã€‚ï¼ˆä½ ä¹Ÿå¯ä»¥ç¼–å†™è‡ªå·±çš„ç¼–è¯‘è§„åˆ™ï¼Œå¹¶æ‰‹åŠ¨è¿è¡Œ <code>make</code>ï¼Œå¦‚ <strong>ç¤ºä¾‹ SystemC æ‰§è¡Œ</strong> ä¸­æ‰€ç¤ºã€‚ï¼‰</li><li><code>-j 0</code>ï¼šä½¿ç”¨æœºå™¨ä¸Šå°½å¯èƒ½å¤šçš„ CPU çº¿ç¨‹è¿›è¡Œ Verilateã€‚</li><li><code>-Wall</code>ï¼šå¯ç”¨æ›´å¼ºçš„ lint è­¦å‘Šã€‚</li><li>æœ€åï¼Œ<code>our.v</code> æ˜¯æˆ‘ä»¬çš„ SystemVerilog è®¾è®¡æ–‡ä»¶ã€‚</li></ul><p>Verilator å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>obj_dir</code> ç›®å½•ä¸‹æŸ¥çœ‹ç”Ÿæˆçš„ C++ ä»£ç ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> obj_dir</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ï¼ˆæœ‰å…³ç”Ÿæˆæ–‡ä»¶çš„æè¿°ï¼Œè¯·å‚é˜… <a href="#files-read-written">Files Read/Written</a>ã€‚ï¼‰</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¿è¡Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">obj_dir/Vour</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœä¸ºï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Hello World</span></span>
<span class="line"><span>- our.v:2: Verilog $finish</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†æ›´å¥½åœ°ç®¡ç†æµç¨‹ï¼Œå»ºè®®ä½¿ç”¨ Makefile æ¥è‡ªåŠ¨è¿è¡Œè¿™äº›æ­¥éª¤ï¼Œè¿™æ ·å½“æºä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¿è¡Œæ‰€æœ‰é€‚å½“çš„æ­¥éª¤ã€‚ä¸ºäº†å¸®åŠ©å®ç°è¿™ä¸€ç‚¹ï¼ŒVerilator å¯ä»¥ç”Ÿæˆä¸€ä¸ª Makefile ä¾èµ–æ–‡ä»¶ã€‚</p><h3 id="ç¤ºä¾‹3-systemc-æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹3-systemc-æ‰§è¡Œ"><span>ç¤ºä¾‹3ï¼šSystemC æ‰§è¡Œ</span></a></h3><p>è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äº <strong>ç¤ºä¾‹ C++ æ‰§è¡Œ</strong> çš„ç¤ºä¾‹ï¼Œä½†ä½¿ç”¨ SystemCã€‚æˆ‘ä»¬è¿˜å°†æ˜¾å¼è¿è¡Œ <code>make</code>ã€‚</p><p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… Verilatorï¼Œè¯·å‚è€ƒ <a href="#installation">å®‰è£…è¯´æ˜</a>ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœä½ æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨å®‰è£…çš„ Verilatorï¼Œæˆ–è€…é€šè¿‡ <code>make install</code> å°† Verilator å®‰è£…åˆ°é»˜è®¤è·¯å¾„ä¸­ï¼Œé‚£ä¹ˆä½ ä¸éœ€è¦åœ¨ç¯å¢ƒä¸­è¿›è¡Œä»»ä½•ç‰¹æ®Šè®¾ç½®ï¼Œä¹Ÿä¸åº”è¯¥è®¾ç½® <code>VERILATOR_ROOT</code>ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æ˜¯ä»æºä»£ç å®‰è£…çš„ Verilatorï¼Œå¹¶ä¸”å¸Œæœ›ä»ç¼–è¯‘ Verilator çš„ç›®å½•ä¸­è¿è¡Œå®ƒï¼Œé‚£ä¹ˆä½ éœ€è¦æŒ‡å‘è¯¥å·¥å…·åŒ…ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¦‚æœä½¿ç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿåˆ†å‘çš„ Verilatorï¼Œè¯·ä¸è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> VERILATOR_ROOT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">verilator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">was</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">installed</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$VERILATOR_ROOT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹ Verilog æ–‡ä»¶å’Œä¸€ä¸ª SystemC åŒ…è£…æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_our_sc</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_our_sc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">our.v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  module our (clk);</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     input clk;  // éœ€è¦æ—¶é’Ÿä»¥è·å–åˆå§‹æ¿€æ´»</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     always @(posedge clk)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        begin $display(&quot;Hello World&quot;); $finish; end</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  endmodule</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">sc_main.cpp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  #include &quot;Vour.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  using namespace sc_core;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  int sc_main(int argc, char** argv) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Verilated::commandArgs(argc, argv);</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      sc_clock clk{&quot;clk&quot;, 10, SC_NS, 0.5, 3, SC_NS, true};</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Vour* top = new Vour{&quot;top&quot;};</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      top-&gt;clk(clk);</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      while (!Verilated::gotFinish()) { sc_start(1, SC_NS); }</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      delete top;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      return 0;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªå°ç¤ºä¾‹è¿è¡Œ Verilatorï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">verilator</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --sc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Wall</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sc_main.cpp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> our.v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ <code>--build</code>ï¼Œå› æ­¤éœ€è¦æ˜¾å¼ç¼–è¯‘å®ƒï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -j</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> obj_dir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Vour.mk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Vour</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¿è¡Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">obj_dir/Vour</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨ SystemC æ¨ªå¹…ä¹‹åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸ C++ ç¤ºä¾‹ç›¸åŒçš„è¾“å‡ºï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SystemC 2.3.3-Accellera</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Hello World</span></span>
<span class="line"><span>- our.v:4: Verilog $finish</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†æ›´å¥½åœ°ç®¡ç†æµç¨‹ï¼Œå»ºè®®ä½¿ç”¨ Makefile æ¥è‡ªåŠ¨è¿è¡Œè¿™äº›æ­¥éª¤ï¼Œè¿™æ ·å½“æºä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¿è¡Œæ‰€æœ‰é€‚å½“çš„æ­¥éª¤ã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚é˜… Verilator åˆ†å‘ç‰ˆä¸­çš„ <code>examples</code> ç›®å½•ã€‚</p><h3 id="ç¤ºä¾‹4-ç”Ÿæˆæ³¢å½¢æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹4-ç”Ÿæˆæ³¢å½¢æ–‡ä»¶"><span>ç¤ºä¾‹4ï¼šç”Ÿæˆæ³¢å½¢æ–‡ä»¶</span></a></h3><p>åœ¨C++ä»£ç ä¸­è®¾ç½®è·Ÿè¸ªï¼Œåˆ›å»ºæ³¢å½¢æ–‡ä»¶ åˆ›å»ºtop.vå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    output</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    assign</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f = a ^ b;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endmodule</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºmain.cppå¹¶ç¼–å†™å¦‚ä¸‹ä»£ç :</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;stdio.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;stdlib.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;memory.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;assert.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;verilated_vcd_c.h&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // ç”Ÿæˆvcdæ–‡ä»¶ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Vtop.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;verilated.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> argc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">char</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> **</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">argv</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> argc </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> argv) {}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::unique_ptr</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">VerilatedContext</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> contextp{</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> VerilatedContext};</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::unique_ptr</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Vtop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> top{</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Vtop{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()}};</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">commandArgs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(argc, argv);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">traceEverOn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // ç”Ÿæˆæ³¢å½¢æ–‡ä»¶ä½¿ç”¨ï¼Œæ‰“å¼€è¿½è¸ªåŠŸèƒ½</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    VerilatedVcdC</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ftp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> VerilatedVcdC;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // vcdå¯¹è±¡æŒ‡é’ˆ</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">trace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(ftp, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 0å±‚</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    ftp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;wave.vcd&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è®¾ç½®è¾“å‡ºçš„æ–‡ä»¶wave.vcd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> flag </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gotFinish</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">flag </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> rand</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> rand</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">eval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, b = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, f = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, a, b, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        assert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">f</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">timeInc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // æ—¶é—´+1ï¼Œæ¨åŠ¨ä»¿çœŸæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        ftp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dump</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">());</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // dump wave</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">final</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    ftp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">close</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å¿…é¡»æœ‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºMakefileæ–‡ä»¶ï¼š</p><div class="language-makefile line-numbers-mode" data-highlighter="shiki" data-ext="makefile" data-title="makefile" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Verilogä»¿çœŸè‡ªåŠ¨åŒ–è„šæœ¬</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.PHONY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> all compile simulate view clean</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">all</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> compile simulate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">compile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	verilator --cc --exe --build -Wall --trace top.v main.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">simulate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	./obj_dir/Vtop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	gtkwave wave.vcd &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">clean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	rm -rf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SIM_NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> *.vcd obj_dir</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å³å¯å‘ç°vcdæ–‡ä»¶wave.vcd ç„¶åä½¿ç”¨å‘½ä»¤å°±å¯ä»¥æŸ¥çœ‹æ³¢å½¢æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> view</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="ç¤ºä¾‹5-åœ¨verilogä»£ç ä¸­è®¾ç½®è·Ÿè¸ª" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹5-åœ¨verilogä»£ç ä¸­è®¾ç½®è·Ÿè¸ª"><span>ç¤ºä¾‹5ï¼šåœ¨verilogä»£ç ä¸­è®¾ç½®è·Ÿè¸ª</span></a></h3><p>åœ¨verilogä»£ç ä¸­è®¾ç½®è·Ÿè¸ªï¼Œåˆ›å»ºæ³¢å½¢æ–‡ä»¶ï¼Œä¸Šé¢çš„Verilogä»£ç å¢åŠ testbechæ–‡ä»¶tb.v:</p><div class="language-verilog line-numbers-mode" data-highlighter="shiki" data-ext="verilog" data-title="verilog" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    output</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">top</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> top_inst</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a,b,f);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">initial</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> begin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ($test$plusargs(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;trace&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) != </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">         $display</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;[%0t] Tracing to wave.vcd...</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">$time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">         $dumpfile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;wave.vcd&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">         $dumpvars</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      end</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">      $display</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;[%0t] Model running...</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">$time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">endmodule</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹C++ä»£ç main.cpp:</p><div class="language-c++ line-numbers-mode" data-highlighter="shiki" data-ext="c++" data-title="c++" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;stdio.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;stdlib.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;memory.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;assert.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Vtb.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;verilated.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> argc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">char</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> **</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">argv</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> argc </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> argv) {}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::unique_ptr</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">VerilatedContext</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> contextp{</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> VerilatedContext};</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::unique_ptr</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Vtb</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tb{</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Vtb{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()}};</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">commandArgs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(argc, argv);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">traceEverOn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // ç”Ÿæˆæ³¢å½¢æ–‡ä»¶ä½¿ç”¨ï¼Œæ‰“å¼€è¿½è¸ªåŠŸèƒ½</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> flag </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gotFinish</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">flag </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> rand</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> rand</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">eval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, b = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, f = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, a, b, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        assert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">f</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a </span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        contextp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">timeInc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // æ—¶é—´+1ï¼Œæ¨åŠ¨ä»¿çœŸæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">final</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹Makefileï¼š</p><div class="language-makefile line-numbers-mode" data-highlighter="shiki" data-ext="makefile" data-title="makefile" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Verilogä»¿çœŸè‡ªåŠ¨åŒ–è„šæœ¬</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.PHONY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> all compile simulate view clean</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">all</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> compile simulate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">compile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	verilator --cc --exe --build -Wall --trace tb.v top.v main.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">simulate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	./obj_dir/Vtb</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	gtkwave wave.vcd &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">clean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">	rm -rf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SIM_NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> *.vcd obj_dir</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¯ä»¥å¾—åˆ°ä»¥ä¸‹ç»“æœï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">verilator</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --build</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Wall</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --trace</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tb.v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> top.v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> main.cpp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make[1]:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Entering</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;/mnt/e/Github/FPGA-course/verilog/chapter2/test_xor2/obj_dir&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make[1]:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Nothing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> done</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;default&#39;.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make[1]:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Leaving</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;/mnt/e/Github/FPGA-course/verilog/chapter2/test_xor2/obj_dir&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./obj_dir/Vtb</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[0] Model running...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/2/23 22:45:03</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: zhouxzh@gdut.edu.cn">Xianzhong Zhou</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/FPGA-course/book/chapter1.html" aria-label="ç¬¬1è®²ï¼šFPGAä¸CPLDæ¶æ„åŸºç¡€" iconsizing="both"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ç¬¬1è®²ï¼šFPGAä¸CPLDæ¶æ„åŸºç¡€</div></a><a class="route-link auto-link next" href="/FPGA-course/book/chapter3.html" aria-label="ç¬¬3è®²ï¼šå¼€æºVerilogç»¼åˆå·¥å…·" iconsizing="both"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">ç¬¬3è®²ï¼šå¼€æºVerilogç»¼åˆå·¥å…·<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/FPGA-course/assets/app-BoqN8PdU.js" defer></script>
  </body>
</html>
